{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","handle","Form","onSubmit","add","name","handleName","number","handleNum","type","List","person","onClick","selectDelete","baseUrl","axios","get","then","response","data","newObject","post","id","delete","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","newMessage","setNewMessage","useEffect","personService","personsToShow","filter","includes","event","console","log","target","bool","p","preventDefault","biggestId","i","returnedPerson","concat","setTimeout","window","alert","map","find","confirm","returned","deleteSelectedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69fbff31.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = (props) => {\n    return (\n        <div>\n            shown with: <input value={props.value} onChange={props.handle}/>\n        </div>\n    )\n} \n\nexport default Filter","import React from \"react\";\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.add}>\n            <div>\n                name: <input value={props.name} onChange={props.handleName}/>\n                <br/>\n                number: <input value={props.number} onChange={props.handleNum}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form","import React from \"react\";\n\nconst List = (props) => {\n    return (\n        <div>\n            <p>{props.person.name} {props.person.number} \n            <button onClick={props.selectDelete}>delete</button>\n            </p>\n        </div>\n    )\n}\n\nexport default List","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n  \nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  deletePerson: deletePerson \n}","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport List from './components/Persons'\nimport personService from './services/persons'\nimport './index.css'\n\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [newMessage, setNewMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    let bool = true\n    for(let p of persons) {\n      if(p.name === newName || p.number === newNumber) {\n        bool = false\n        break\n      }\n    }\n    if (bool) {\n      event.preventDefault()\n      let biggestId = 0;\n      for (let i of persons) {\n        if(i.id > biggestId) {\n          biggestId = i.id\n        }\n      }\n      const nameObj = {\n        name: newName,\n        number: newNumber,\n        id: biggestId + 1\n      }\n      personService.create(nameObj)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNewMessage(`person '${returnedPerson.name}' was added`)\n        setTimeout(() => {\n          setNewMessage(null)\n        },5000)\n      })\n    } else {\n      window.alert(`${newName} or ${newNumber} is already added to phonebook`)\n    }\n  }\n\n  const deleteSelectedPerson = id => {\n    const person = persons.find(p => p.id === id)\n    console.log(person)\n    \n    if(window.confirm(\"haluatko poistaa?\")) {\n      personService.deletePerson(id).then(\n        returned => {\n        setNewMessage(`person '${person.name}' was removed`)\n        setTimeout(() => {\n          setNewMessage(null)\n        },5000)\n      })\n    }\n    \n  }\n\n  const handleChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const personsToShow = newFilter \n    ? persons.filter(person => person.name.includes(newFilter))\n    : persons \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={newMessage}/>\n      <div>\n      <Filter value={newFilter} handle={handleFilterChange}/>\n      </div>\n      <h2>Add new</h2>\n      <Form add={addPerson} name={newName} handleName={handleChange} number={newNumber} handleNum={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <div> \n        {personsToShow.map(person => \n          <List\n            key={person.name}\n            person={person}\n            selectDelete={() => deleteSelectedPerson(person.id)}\n          />\n        )}\n      </div>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}